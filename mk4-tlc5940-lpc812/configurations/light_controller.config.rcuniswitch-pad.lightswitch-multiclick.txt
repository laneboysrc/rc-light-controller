{
  "config": {
    "firmware_version": 56,
    "mode": 1,
    "esc_mode": 0,
    "slave_output": false,
    "preprocessor_output": false,
    "winch_output": false,
    "steering_wheel_servo_output": true,
    "gearbox_servo_output": false,
    "ch3_is_local_switch": false,
    "ch3_is_momentary": false,
    "auto_brake_lights_forward_enabled": true,
    "auto_brake_lights_reverse_enabled": true,
    "ch3_is_two_button": false,
    "reverse_st": false,
    "reverse_th": false,
    "reverse_aux": false,
    "reverse_aux2": false,
    "reverse_aux3": false,
    "auto_brake_counter_value_forward_min": 25,
    "auto_brake_counter_value_forward_max": 125,
    "auto_brake_counter_value_reverse_min": 25,
    "auto_brake_counter_value_reverse_max": 125,
    "auto_reverse_counter_value_min": 40,
    "auto_reverse_counter_value_max": 100,
    "brake_disarm_counter_value": 50,
    "blink_counter_value": 17,
    "indicator_idle_time_value": 25,
    "indicator_off_timeout_value": 100,
    "centre_threshold_low": 8,
    "centre_threshold_high": 12,
    "blink_threshold": 30,
    "light_switch_positions": 4,
    "initial_light_switch_position": 0,
    "initial_endpoint_delta": 250,
    "ch3_multi_click_timeout": 25,
    "baudrate": 115200,
    "no_signal_timeout": 25,
    "number_of_gears": 2,
    "gearbox_servo_active_time": 50,
    "gearbox_servo_idle_time": 450,
    "servo_pulse_min": 600,
    "servo_pulse_max": 2500,
    "startup_time": 100,
    "multi_aux": true,
    "shelf_queen_mode": true,
    "us_style_combined_lights": true,
    "gearbox_light_program_control": false,
    "light_program_servo_output": false,
    "indicators_while_driving": false,
    "require_extra_click": false,
    "prefer_all_lights_off": false,
    "invert_out15s": false,
    "assign_uart_to_out": false,
    "blink_counter_value_dark": 17,
    "aux_type": 0,
    "aux_function": 1,
    "aux2_type": 2,
    "aux2_function": 0,
    "aux3_type": 4,
    "aux3_function": 0,
    "aux_centre_threshold_low": -10,
    "aux_centre_threshold_high": 10,
    "aux_left_centre_threshold_low": -40,
    "aux_left_centre_threshold_high": -30,
    "aux_centre_right_threshold_low": 30,
    "aux_centre_right_threshold_high": 40,
    "diagnostics_brightness": 255,
    "channel_offset": 3,
    "light_switch_hysteresis": 13,
    "light_switch_centers": [
      -75,
      -25,
      25,
      75,
      0,
      0,
      0,
      0,
      0
    ]
  },
  "local_leds": {
    "0": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 255,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "parking-l"
    },
    "1": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 255,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "parking-r"
    },
    "2": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 2,
      "name": "main-beam-l"
    },
    "3": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 2,
      "name": "main-beam-r"
    },
    "4": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 64,
      "name": "high-beam-l"
    },
    "5": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 255,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 64,
      "name": "high-beam-r"
    },
    "6": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 255,
      "indicator_right": 0,
      "diagnostics": 45,
      "name": "indicator-fl"
    },
    "7": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 255,
      "diagnostics": 21,
      "name": "indicator-fr"
    },
    "8": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 84,
      "brake_light": 255,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "tail-brake-l"
    },
    "9": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 84,
      "brake_light": 255,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "tail-brake-r"
    },
    "10": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 255,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "reversing-l"
    },
    "11": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 255,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "reversing-r"
    },
    "12": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 255,
      "indicator_right": 0,
      "diagnostics": 44,
      "name": "indicator-rl"
    },
    "13": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 255,
      "diagnostics": 20,
      "name": "indicator-rr"
    },
    "14": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "Search light"
    },
    "15": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": "Light bar"
    },
    "led_count": 16
  },
  "slave_leds": {
    "0": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 255,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "1": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 255,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "2": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "3": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 255,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "4": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "5": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 255,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "6": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 255,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "7": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 255,
      "diagnostics": 0,
      "name": ""
    },
    "8": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 84,
      "brake_light": 255,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "9": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 84,
      "brake_light": 255,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "10": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 255,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "11": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 255,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "12": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 255,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "13": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 255,
      "diagnostics": 0,
      "name": ""
    },
    "14": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 0,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 255,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "15": {
      "max_change_per_systick": 0,
      "reduction_percent": 0,
      "weak_light_switch_position0": false,
      "weak_light_switch_position1": false,
      "weak_light_switch_position2": false,
      "weak_light_switch_position3": false,
      "weak_light_switch_position4": false,
      "weak_light_switch_position5": false,
      "weak_light_switch_position6": false,
      "weak_light_switch_position7": false,
      "weak_light_switch_position8": false,
      "weak_tail_light": false,
      "weak_brake_light": false,
      "weak_reversing_light": false,
      "weak_indicator_left": false,
      "weak_indicator_right": false,
      "always_on": 0,
      "light_switch_position0": 0,
      "light_switch_position1": 0,
      "light_switch_position2": 0,
      "light_switch_position3": 0,
      "light_switch_position4": 255,
      "light_switch_position5": 0,
      "light_switch_position6": 0,
      "light_switch_position7": 0,
      "light_switch_position8": 0,
      "tail_light": 0,
      "brake_light": 0,
      "reversing_light": 0,
      "indicator_left": 0,
      "indicator_right": 0,
      "diagnostics": 0,
      "name": ""
    },
    "led_count": 16
  },
  "gamma": {
    "gamma_value": "1.8"
  },
  "light_programs": "// Control light functions using a transmitter modified\n// with the RCuniSwitch PAD.\n// \n// RCuniSwitch PAD info:\n// https://www.rockcrawler.de/thread/44979-rcuniswitch-system%C3%BCberblick/?postID=1601749#post1601749\n//\n// The system must use the 5-channel Pre-Processor (5ch PP), i-Bus or S.Bus\n// for this light program to be useful (3chPP or Servo reader always\n// use Multi-function control on CH3/AUX).\n// \n// The following fuctions can be controlled:\n// S1: Light switch \"off\" (light switch position 0)\n// S2: Parking lights (light switch position 1)\n// S3: Main beam (light switch position 2)\n// S4: High beam (light switch position 3)\n// S5: (not used in this demo)\n// S6: Toggle light bar (OUT15S) on/off\n// S7: Toggle hazard lights on/off\n// S8: (not used)\n// S9: (not used)\n// S10: (not used)\n// S11: Search light (OUT14 on while button is pushed; off when released)\n// S12: Headlight flasher (OUT4,5 on while button is pushed)\n\n// This light program runs \"always\"; basically in the background\n// while the light controller operates normally.\nrun always\n\n\n// Shared variable to performa multi-click operation on \n// switch position S1\nglobal var aux_signal\n\n\n// LED definition for the outputs we directly control in this light\n// program. The light bar is on OUT15S, the \"search light\" on OUT14.\nled light_bar = led[15]\nled search_light = led[14]\n\n// Note that OUT4 and OUT5 (high beam left/right) are not declared\n// here but in a separate light program that is only ran when\n// the headlight flasher is active. This the \"LED configuration\" \n// table can still operate OUT4 and OUT5 and we only temporarily\n// take control of those LEDs when the headlight flasher is active.\n\n\n// Temporary variable that holds the AUX channel value of the AUX\n// channel that the RCuniSwitch PAD is connnected to on the \n// transmitter. By using this temporary variable we only have to \n// modify a single location in the source code to switch AUX \n// channels.\nvar RCuniSwitch-PAD\n\n// This variable contains the switch number that is currently\n// pressed. Its value is \"0\" when no switch is pressed, \"1\"\n// for S1, \"2\" for S2 and so on.\nvar pressedSwitch\n\n// previousValue is used to ensure that the read AUX input\n// is stable before generating a new value in \"pressedSwitch\".\nvar previousValue\n\n// Used to trigger a switch function only once when the \n// corresponding switch is pressed, and the switch has to\n// be released before the function can fire again.\nvar waitForRelease\n\n\n\n// The RCuniSwitch PAD on our modified transmitter gave the following\n// readings on the Pre-Processor: \n//\n// S1: -98\n// S2: -73\n// S3: -53\n// S4: -38\n// S5: -24\n// S6: -12\n// No button pressed: 0\n// S7: +12\n// S8: +24\n// S9: +37\n// S10: +53\n// S11: +72\n// S12: +97\n// \n// (Values are in the range -100 .. 0 .. +100, which corresponds to \n// servo pulse width of 1000 .. 1500 .. 2000 us)\n//\n// We define the switch points half-way between the measured\n// values, so that we have some tolerance in detecting the switch\n// position.\n// For example, we detect switch S12 when the AUX is greater than\n// 72 + (97 - 72) / 2 = 85\nconst s1 = -85\nconst s2 = -63\nconst s3 = -45\nconst s4 = -31\nconst s5 = -18\nconst s6 = -6\nconst s7 = 6\nconst s8 = 18\nconst s9 = 31\nconst s10 = 45\nconst s11 = 63\nconst s12 = 85\n\nloop:\n\t// Wait a bit so that other functions in the light\n    // controller can do their job too\n\tsleep 20\n    \n    // Assing which AUX channel the RCuniSwitch PAD\n    // is connected to. In this example we used AUX3\n    // on the 5ch PP.\n    RCuniSwitch-PAD = aux3\n\n\t// Store the last value we detected and assume\n    // that all switches are currently released\n\tpreviousValue = pressedSwitch\n    pressedSwitch = 0\n\n\t// Check each of the switch thresholds and set\n    // \"pressedSwitch\" to the value of the switch.\n    // Note that the order here is important, as\n    // \"RCuniSwitch-PAD < s6\" will also be true\n    // for S1..S5\n    // Only after we have done all checks will\n    // \"RCuniSwitch-PAD\" contain the correct value.\n\tif RCuniSwitch-PAD < s6\n    pressedSwitch = 6\n\tif RCuniSwitch-PAD < s5\n    pressedSwitch = 5\n\tif RCuniSwitch-PAD < s4\n    pressedSwitch = 4\n\tif RCuniSwitch-PAD < s3\n    pressedSwitch = 3\n\tif RCuniSwitch-PAD < s2\n    pressedSwitch = 2\n\tif RCuniSwitch-PAD < s1\n    pressedSwitch = 1\n    \n    if RCuniSwitch-PAD > s7\n    pressedSwitch = 7\n    if RCuniSwitch-PAD > s8\n    pressedSwitch = 8\n    if RCuniSwitch-PAD > s9\n    pressedSwitch = 9\n    if RCuniSwitch-PAD > s10\n    pressedSwitch = 10\n    if RCuniSwitch-PAD > s11\n    pressedSwitch = 11\n    if RCuniSwitch-PAD > s12\n    pressedSwitch = 12\n    \n    // Only if we detect the same switch position twice in \n    // a row do we process it. This avoids transitions of \n    // the measured servo pulse to cause spurious triggers.\n    if pressedSwitch != previousValue\n\tgoto loop\n\n\t// If no switch is pressed then go to the\n    // \"all_released\" function.\n\tif pressedSwitch == 0\n    goto all_released\n\n\t// For all other functions: if we processed the function\n    // already then don't do anything.\n\tif waitForRelease == 1\n    goto loop\n\n\twaitForRelease = 1\n\n\t// Branch to the appropriate function depending on\n    // the pressed switch.\n    if pressedSwitch == 1\n    goto s1_pressed\n\tif pressedSwitch == 2\n    goto s2_pressed\n\tif pressedSwitch == 3\n    goto s3_pressed\n\tif pressedSwitch == 4\n    goto s4_pressed\n\tif pressedSwitch == 5\n    goto s5_pressed\n\tif pressedSwitch == 6\n    goto s6_pressed\n\tif pressedSwitch == 7\n    goto s7_pressed\n\tif pressedSwitch == 8\n    goto s8_pressed\n\tif pressedSwitch == 9\n    goto s9_pressed\n\tif pressedSwitch == 10\n    goto s10_pressed\n\tif pressedSwitch == 11\n    goto s11_pressed\n\tif pressedSwitch == 12\n    goto s12_pressed\n\n\n// Action when none of the buttons is pressed\nall_released:\n\t// No button pressed: clear \"waitForRelease\"\n    // so that the next detected switch is accepted\n\twaitForRelease = 0\n    \n    // Headlight flashing function: Stop the headlight\n    // flashing when the button has been released.\n    // Note that turning the High Beam LEDs on for \n    // headlight flashing is implemented in a separate\n    // light program triggered by program-state-0\n    // so that the high beam LEDs can also be used in \n    // the normal light switch configuration as high\n    // beam function.\n\tprogram-state-0 = 0\n    \n    // Search light function: Turn the search light off\n    // when the button has been released.\n    // Here we control the LED directly as the search\n    // light LED output is exclusively controlled by\n    // this light program\n    search_light = 0\n   \n   \t// Reset the shared variable of the multi-click handler\n\taux_signal = -100\n   \n    // Repeat processing\n    goto loop\n\n// Action when S1 is pressed\ns1_pressed:\n\t// Trigger the multi-click handler below\n\taux_signal = 100\n\tgoto loop\n\n// Action when S2 is pressed\ns2_pressed:\n\t// Set the light switch position to 1 (parking lights)\n\tlight-switch-position = 1\n\tgoto loop\n\n// Action when S3 is pressed\ns3_pressed:\n\t// Set the light switch position to 2 (main beam)\n\tlight-switch-position = 2\n\tgoto loop\n\n// Action when S4 is pressed\ns4_pressed:\n\t// Set the light switch position to 3 (high beam)\n\tlight-switch-position = 3\n\tgoto loop\n\n// Action when S5 is pressed\ns5_pressed:\n\t// (No action in this demo)\n\tgoto loop\n\n// Action when S6 is pressed\ns6_pressed:\n\t// Go to the function below that toggles\n    // the light bar on/off\n\tgoto toggle_lightbar\n\n// Action when S7 is pressed\ns7_pressed:\n\tgoto toggle_hazard\n\n// Action when S8 is pressed\ns8_pressed:\n\tgoto loop\n\n// Action when S9 is pressed\ns9_pressed:\n\tgoto loop\n\n// Action when S10 is pressed\ns10_pressed:\n\tgoto loop\n\n// Action when S11 is pressed\ns11_pressed:\n\t// Switch the search light LED on. \n    // The LED will be switched off again when all\n    // buttons have been released (see \"all_released\" above)\n    search_light = 100\n\tgoto loop\n\n// Action when S12 is pressed\ns12_pressed:\n\t// Set the special variable program-state-0 so\n    // that another light program triggered by this variable\n    // will run and turn the high beam LEDs on.\n    // program-state-0 will be cleared when all\n    // buttons have been released (see \"all_released\" above)\n\tprogram-state-0 = 1\n\tgoto loop\n\n\n// Function to toggle the hazard lights\ntoggle_hazard:\n\tif is hazard\n    goto hazard_off\n    hazard = 1\n    goto loop\nhazard_off:\n\thazard = 0\n\tgoto loop\n\n// Function to toggle the light bar (OUT15S)\ntoggle_lightbar:\n\tif light_bar > 0\n\tgoto lightbar_off\n\tlight_bar = 100\n\tgoto loop\nlightbar_off:\n\tlight_bar = 0\n\tgoto loop\n\nend\n\n\n// Helper light program for the headlight flasher.\n// This program runs while the button controlling\n// the headlight flasher is pressed. \n// While the headlight flasher is active, the light\n// program takes control over LEDs 4 and 5 and turns \n// them on.\n// When the light program is not running then other\n// parts of the system can control LED 4 and 5, for\n// example the light switch (table LED configuration)\n// uses them for the high beam function.\nrun when program-state-0\nled high_beam_l = led[4]\nled high_beam_r = led[5]\n\nloop:\n\tsleep 0\n    all leds = 100\n\tgoto loop\nend\n\n\n// Light program to decode multiple clicks on a momentary\n// pushbutton.\n//\n// This light program allows switching of custom functions\n// based on the number of clicks performed on either an AUX\n// channel or the RCuniSwitch PAD.\n// \n// In this example we implement the following:\n//   1-click: Increment light switch position\n//   2-clicks: Decrement light switch position\n\n//\nrun always\n\n// This variable will hold the servo input to operate\n// on. It can be either one of the AUX inputs of the\n// Light Controller or Pre-Processor, or set by the\n// RCuniSwitch PAD handler.\nglobal var aux_signal\n\n// Hysteresis values for detecting whether AUX\n// has operated.\n// aux_signal must to above AUX_HIGH for a change to\n// be registered, and then go below AUX_LOW for\n// another change to be registered.\nconst AUX_HIGH = 20\nconst AUX_LOW = -20\n\n// The variable 'last' is used to act only once when\n// the switch on aux_signal has been operated.\n// It has the value '0' when aux_signal was having\n// a value of <AUX_LOW when it was read the last time.\n// It has the value '1' when aux_signal was having\n// a value of >AUX_HIGH when it was read the last time.\nvar last\n\n// The TIMEOUT value is the number of \"loops\" the program\n// has to run before we accept clicks. Every loop takes 20ms\n// (because we added 'sleep 20' to the code), so for a 600ms \n// click timeout we need the value to be 600/20 = 30\nconst TIMEOUT = 30\n\n// Every time we detect a change in aux_signal, we set this variable\n// to TIMEOUT (see above). We then decrement this variable \n// every 20ms. Once it has reached '0' we process the number\n// of 'clicks' we received.\nvar timeout_count\n\n// This variable stores the number of aux_signal clicks \n// (= aux_signal operations) have been recorded so far. \n// Once timeout_count has expired its value is the click \n// count we are interested in.\nvar aux_clicks\n\n\t// Reset the clicks to process a new round\nreset:\n\taux_clicks = 0\n\nloop:\n\t// Wait 20ms. This time is important as our TIMEOUT\n    // value calculation takes it into account. \n    // Light programs do not have access to a time value, \n    // so we have to work around this by counting loops\n    // that take a known amount of time.\n\tsleep 20\n    \n    // If the click timeout is not running (timeout_count = 0)\n    // then skip the timeout check.\n    if timeout_count == 0\n    goto test_aux\n    \n    // The timeout is running, so we decrement it by one.\n    // If it has now reached 0 then the timeout just expired\n    // and we process the received clicks.\n    timeout_count -= 1\n    if timeout_count == 0\n    goto handle_click_timeout\n    \ntest_aux:\n    // Uncomment this line with using this line when the \n    // script is used with a regular AUX channel\n    // aux_signal = aux2\n    \n\t// Hysteresis check: If the last detected position was '1'\n    // then check against AUX_LOW. \n    // If the last detected position was '0' then check \n    // against AUX_HIGH. \n\tif last == 1\n    goto last_was_1\n\nlast_was_0:\n\t// Note: inverse logic! If aux_signal is NOT LARGER THAN \n    // AUX_HIGH then go back to the begin of the loop. But if \n    // it is large than AUX_HIGH, 'fall through' and process the \n    // click\n\tif aux_signal < AUX_HIGH\n    goto loop\n    \n    // Store the new aux_signal position\n    last = 1\n    // Increment our click counter\n\taux_clicks += 1\n    // Restart the click timeout\n    timeout_count = TIMEOUT\n    goto loop\n\nlast_was_1:\n\t// Same as above, just opposite switch position\n\tif aux_signal > AUX_LOW\n    goto loop\n    \n    last = 0\n    goto loop\n\n\nhandle_click_timeout:\n\t// The click timeout has expired! \n    // We can now look at the value of the variable\n    // 'aux_clicks' and perform the corresponding\n    // desired action.\n\tif aux_clicks == 1\n    goto handle_1_click\n\tif aux_clicks == 2\n    goto handle_2_clicks\n\n    // All other clicks are ignored, so reset everything \n    // for the next click detection round.\n\tgoto reset\n\nhandle_1_click:\n\t// Switch to the next light switch position. If we \n    // overflow the last light switch position the \n    // light controller logic will clamp the value.\n\tlight-switch-position += 1\n\tgoto reset\n\nhandle_2_clicks:\n\t// Switch to the previous light switch position.\n\tlight-switch-position -= 1\n    goto reset\n\nend\n\n\n"
}